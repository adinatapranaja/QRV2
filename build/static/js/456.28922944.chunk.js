"use strict";(self.webpackChunkqr_events_management=self.webpackChunkqr_events_management||[]).push([[456],{75:(e,t,a)=>{a.r(t),a.d(t,{default:()=>be});var n,r=a(9950),s=a(6220),i=a(5985),l=a(2205),o=a(1331),c=a(5961),d=a(1095),u=a(3864),h=a(2004),m=a(2281),p=a(3008),x=a.n(p),f=a(2780),y=a.n(f),b=a(821),v=a.n(b),g=a(1099),j=a.n(g),N=a(9418),w=a.n(N),A=a(6653),k=a(2143),O=a(2775),E=a(7628),P=a(9411),S=a(9189),D=a(5912),C=a(675),I=["layout","type","stroke","connectNulls","isRange","ref"],F=["key"];function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function L(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},R.apply(this,arguments)}function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach(function(t){J(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function T(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,V(n.key),n)}}function W(e,t,a){return t=z(t),function(e,t){if(t&&("object"===M(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_()?Reflect.construct(t,a||[],z(e).constructor):t.apply(e,a))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function K(e,t){return K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},K(e,t)}function J(e,t,a){return(t=V(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function V(e){var t=function(e,t){if("object"!=M(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=M(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==M(t)?t:t+""}var $=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return J(e=W(this,t,[].concat(n)),"state",{isAnimationFinished:!0}),J(e,"id",(0,S.NF)("recharts-area-")),J(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),x()(t)&&t()}),J(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),x()(t)&&t()}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(t,e),a=t,s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(n=[{key:"renderDots",value:function(e,a,n){var s=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(s&&!i)return null;var l=this.props,o=l.dot,c=l.points,d=l.dataKey,u=(0,C.J9)(this.props,!1),h=(0,C.J9)(o,!0),m=c.map(function(e,a){var n=B(B(B({key:"dot-".concat(a),r:3},u),h),{},{index:a,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:c});return t.renderDotItem(o,n)}),p={clipPath:e?"url(#clipPath-".concat(a?"":"dots-").concat(n,")"):null};return r.createElement(O.W,R({className:"recharts-area-dots"},p),m)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,a=t.baseLine,n=t.points,s=t.strokeWidth,i=n[0].x,l=n[n.length-1].x,o=e*Math.abs(i-l),c=y()(n.map(function(e){return e.y||0}));return(0,S.Et)(a)&&"number"===typeof a?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(y()(a.map(function(e){return e.y||0})),c)),(0,S.Et)(c)?r.createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,a=t.baseLine,n=t.points,s=t.strokeWidth,i=n[0].y,l=n[n.length-1].y,o=e*Math.abs(i-l),c=y()(n.map(function(e){return e.x||0}));return(0,S.Et)(a)&&"number"===typeof a?c=Math.max(a,c):a&&Array.isArray(a)&&a.length&&(c=Math.max(y()(a.map(function(e){return e.x||0})),c)),(0,S.Et)(c)?r.createElement("rect",{x:0,y:i<l?i:i-o,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,a,n){var s=this.props,i=s.layout,l=s.type,o=s.stroke,c=s.connectNulls,d=s.isRange,u=(s.ref,L(s,I));return r.createElement(O.W,{clipPath:a?"url(#clipPath-".concat(n,")"):null},r.createElement(A.I,R({},(0,C.J9)(u,!0),{points:e,connectNulls:c,type:l,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==o&&r.createElement(A.I,R({},(0,C.J9)(this.props,!1),{className:"recharts-area-curve",layout:i,type:l,connectNulls:c,fill:"none",points:e})),"none"!==o&&d&&r.createElement(A.I,R({},(0,C.J9)(this.props,!1),{className:"recharts-area-curve",layout:i,type:l,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var a=this,n=this.props,s=n.points,i=n.baseLine,l=n.isAnimationActive,o=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,h=this.state,p=h.prevPoints,x=h.prevBaseLine;return r.createElement(m.Ay,{begin:o,duration:c,isActive:l,easing:d,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var l=n.t;if(p){var o,c=p.length/s.length,d=s.map(function(e,t){var a=Math.floor(t*c);if(p[a]){var n=p[a],r=(0,S.Dj)(n.x,e.x),s=(0,S.Dj)(n.y,e.y);return B(B({},e),{},{x:r(l),y:s(l)})}return e});return o=(0,S.Et)(i)&&"number"===typeof i?(0,S.Dj)(x,i)(l):v()(i)||j()(i)?(0,S.Dj)(x,0)(l):i.map(function(e,t){var a=Math.floor(t*c);if(x[a]){var n=x[a],r=(0,S.Dj)(n.x,e.x),s=(0,S.Dj)(n.y,e.y);return B(B({},e),{},{x:r(l),y:s(l)})}return e}),a.renderAreaStatically(d,o,e,t)}return r.createElement(O.W,null,r.createElement("defs",null,r.createElement("clipPath",{id:"animationClipPath-".concat(t)},a.renderClipRect(l))),r.createElement(O.W,{clipPath:"url(#animationClipPath-".concat(t,")")},a.renderAreaStatically(s,i,e,t)))})}},{key:"renderArea",value:function(e,t){var a=this.props,n=a.points,r=a.baseLine,s=a.isAnimationActive,i=this.state,l=i.prevPoints,o=i.prevBaseLine,c=i.totalLength;return s&&n&&n.length&&(!l&&c>0||!w()(l,n)||!w()(o,r))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,r,e,t)}},{key:"render",value:function(){var e,t=this.props,a=t.hide,n=t.dot,s=t.points,i=t.className,l=t.top,o=t.left,c=t.xAxis,d=t.yAxis,u=t.width,m=t.height,p=t.isAnimationActive,x=t.id;if(a||!s||!s.length)return null;var f=this.state.isAnimationFinished,y=1===s.length,b=(0,h.A)("recharts-area",i),g=c&&c.allowDataOverflow,j=d&&d.allowDataOverflow,N=g||j,w=v()(x)?this.id:x,A=null!==(e=(0,C.J9)(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},k=A.r,P=void 0===k?3:k,S=A.strokeWidth,D=void 0===S?2:S,I=((0,C.sT)(n)?n:{}).clipDot,F=void 0===I||I,M=2*P+D;return r.createElement(O.W,{className:b},g||j?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(w)},r.createElement("rect",{x:g?o:o-u/2,y:j?l:l-m/2,width:g?u:2*u,height:j?m:2*m})),!F&&r.createElement("clipPath",{id:"clipPath-dots-".concat(w)},r.createElement("rect",{x:o-M/2,y:l-M/2,width:u+M,height:m+M}))):null,y?null:this.renderArea(N,w),(n||y)&&this.renderDots(N,F,w),(!p||f)&&E.Z.renderCallByParent(this.props,s))}}])&&T(a.prototype,n),s&&T(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a;var a,n,s}(r.PureComponent);n=$,J($,"displayName","Area"),J($,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!P.m.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),J($,"getBaseValue",function(e,t,a,n){var r=e.layout,s=e.baseValue,i=t.props.baseValue,l=null!==i&&void 0!==i?i:s;if((0,S.Et)(l)&&"number"===typeof l)return l;var o="horizontal"===r?n:a,c=o.scale.domain();if("number"===o.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===l?u:"dataMax"===l||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===l?c[0]:"dataMax"===l?c[1]:c[0]}),J($,"getComposedData",function(e){var t,a=e.props,r=e.item,s=e.xAxis,i=e.yAxis,l=e.xAxisTicks,o=e.yAxisTicks,c=e.bandSize,d=e.dataKey,u=e.stackedData,h=e.dataStartIndex,m=e.displayedData,p=e.offset,x=a.layout,f=u&&u.length,y=n.getBaseValue(a,r,s,i),b="horizontal"===x,v=!1,g=m.map(function(e,t){var a;f?a=u[h+t]:(a=(0,D.kr)(e,d),Array.isArray(a)?v=!0:a=[y,a]);var n=null==a[1]||f&&null==(0,D.kr)(e,d);return b?{x:(0,D.nb)({axis:s,ticks:l,bandSize:c,entry:e,index:t}),y:n?null:i.scale(a[1]),value:a,payload:e}:{x:n?null:s.scale(a[1]),y:(0,D.nb)({axis:i,ticks:o,bandSize:c,entry:e,index:t}),value:a,payload:e}});return t=f||v?g.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return b?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?s.scale(t):null,y:e.y}}):b?i.scale(y):s.scale(y),B({points:g,baseLine:t,layout:x,isRange:v},p)}),J($,"renderDotItem",function(e,t){var a;if(r.isValidElement(e))a=r.cloneElement(e,t);else if(x()(e))a=e(t);else{var n=(0,h.A)("recharts-area-dot","boolean"!==typeof e?e.className:""),s=t.key,i=L(t,F);a=r.createElement(k.c,R({},i,{key:s,className:n}))}return a});var q=a(158),H=a(4813),Q=a(1052),U=(0,u.gu)({chartName:"AreaChart",GraphicalChild:$,axisComponents:[{axisType:"xAxis",AxisComp:q.W},{axisType:"yAxis",AxisComp:H.h}],formatAxisMap:Q.pr}),Z=a(3245),X=a(6335),Y=a(294),ee=a(5102),te=a(5706),ae=a(7360),ne=a(4203),re=a(2528),se=a(4298),ie=a(9981),le=a(1912),oe=a(4546),ce=a(1061),de=a(5416),ue=a(861),he=a(5975),me=a(6307),pe=a(5528),xe=a(6975),fe=a(6121),ye=a(4414);const be=()=>{var e;const{userRole:t}=(0,l.A)(),[a,n]=(0,r.useState)([]),[u,h]=(0,r.useState)([]),[m,p]=(0,r.useState)(!0),[x,f]=(0,r.useState)("all"),[y,b]=(0,r.useState)("30"),[v,g]=(0,r.useState)("checkins");(0,r.useEffect)(()=>{const e=(0,s.P)((0,s.rJ)(i.db,"events"),(0,s.My)("createdAt","desc")),t=(0,s.aQ)(e,e=>{const t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),n(t)}),a=(0,s.P)((0,s.rJ)(i.db,"activities"),(0,s._M)("type","==","check_in"),(0,s.My)("timestamp","desc")),r=(0,s.aQ)(a,e=>{const t=[];e.forEach(e=>{t.push({id:e.id,...e.data()})}),h(t),p(!1)});return()=>{t(),r()}},[]);const j=(()=>{const e=parseInt(y),t=new Date,a=new Date;a.setDate(a.getDate()-e);const n={};for(let r=0;r<e;r++){const e=new Date;e.setDate(e.getDate()-r);const t=e.toISOString().split("T")[0];n[t]={date:t,checkIns:0,events:0}}return u.forEach(e=>{if(e.timestamp){const r=e.timestamp.toDate();if(r>=a&&r<=t){const e=r.toISOString().split("T")[0];n[e]&&n[e].checkIns++}}}),Object.values(n).reverse()})(),N=a.map(e=>({name:e.name.length>15?e.name.substring(0,15)+"...":e.name,checkIns:e.checkedInGuests||0,totalGuests:e.totalGuests||0,percentage:e.totalGuests?Math.round((e.checkedInGuests||0)/e.totalGuests*100):0})),w=a.map(e=>({name:e.name.length>20?e.name.substring(0,20)+"...":e.name,value:e.checkedInGuests||0})).filter(e=>e.value>0).slice(0,8),A=["#e50914","#f40612","#b81d24","#d22730","#8b0000","#ff6b6b","#ff8e8e","#ffb3b3"],k=[{id:"checkins",label:"Check-ins Over Time",icon:(0,ye.jsx)(se.A,{className:"w-4 h-4"})},{id:"events",label:"Event Performance",icon:(0,ye.jsx)(ie.A,{className:"w-4 h-4"})},{id:"distribution",label:"Check-in Distribution",icon:(0,ye.jsx)(le.A,{className:"w-4 h-4"})}],O=[{label:"Total Check-ins",value:u.length,change:"+12%",trend:"up",icon:(0,ye.jsx)(oe.A,{className:"w-5 h-5"})},{label:"Active Events",value:a.filter(e=>new Date(e.date)>=new Date).length,change:"+5%",trend:"up",icon:(0,ye.jsx)(ce.A,{className:"w-5 h-5"})},{label:"Total Events",value:a.length,change:"+8%",trend:"up",icon:(0,ye.jsx)(de.A,{className:"w-5 h-5"})},{label:"Avg. Attendance",value:a.length>0?Math.round(a.reduce((e,t)=>e+(t.checkedInGuests||0),0)/a.length):0,change:"-2%",trend:"down",icon:(0,ye.jsx)(ue.A,{className:"w-5 h-5"})}];return"client"===t?(0,ye.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center",children:(0,ye.jsxs)("div",{className:"text-center",children:[(0,ye.jsx)(ie.A,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,ye.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Access Denied"}),(0,ye.jsx)("p",{className:"text-gray-400",children:"Reports are only available for admin and owner accounts"})]})}):(0,ye.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black",children:[(0,ye.jsx)(o.A,{}),(0,ye.jsxs)("div",{className:"ml-64 flex flex-col",children:[(0,ye.jsx)(c.A,{}),(0,ye.jsxs)("main",{className:"flex-1 p-8 pt-24",children:[(0,ye.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,ye.jsxs)("div",{children:[(0,ye.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2 flex items-center",children:[(0,ye.jsx)(ie.A,{className:"w-8 h-8 mr-3 text-purple-400"}),"Reports & Analytics"]}),(0,ye.jsx)("p",{className:"text-gray-400",children:"Track performance and analyze your event data"})]}),(0,ye.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ye.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-all duration-200",children:[(0,ye.jsx)(he.A,{className:"w-4 h-4"}),(0,ye.jsx)("span",{children:"Refresh"})]}),(0,ye.jsxs)("button",{className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-all duration-200",children:[(0,ye.jsx)(me.A,{className:"w-4 h-4"}),(0,ye.jsx)("span",{children:"Export"})]})]})]}),(0,ye.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:O.map((e,t)=>(0,ye.jsxs)("div",{className:"glass-dark p-6 rounded-2xl border border-white/10 hover:border-white/20 transition-all duration-300 group",children:[(0,ye.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,ye.jsx)("div",{className:"p-3 bg-purple-600/20 rounded-xl group-hover:scale-110 transition-transform",children:e.icon}),(0,ye.jsxs)("div",{className:"flex items-center space-x-1 text-sm "+("up"===e.trend?"text-green-400":"text-red-400"),children:["up"===e.trend?(0,ye.jsx)(pe.A,{className:"w-4 h-4"}):(0,ye.jsx)(xe.A,{className:"w-4 h-4"}),(0,ye.jsx)("span",{children:e.change})]})]}),(0,ye.jsxs)("div",{children:[(0,ye.jsx)("p",{className:"text-2xl font-bold text-white mb-1",children:e.value}),(0,ye.jsx)("p",{className:"text-gray-400 text-sm",children:e.label})]})]},t))}),(0,ye.jsx)("div",{className:"glass-dark p-6 rounded-2xl border border-white/10 mb-8",children:(0,ye.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,ye.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,ye.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ye.jsx)(fe.A,{className:"w-4 h-4 text-gray-400"}),(0,ye.jsx)("span",{className:"text-gray-400 text-sm",children:"Filters:"})]}),(0,ye.jsxs)("select",{value:x,onChange:e=>f(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-500 transition-all",children:[(0,ye.jsx)("option",{value:"all",children:"All Events"}),a.map(e=>(0,ye.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,ye.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:border-purple-500 transition-all",children:[(0,ye.jsx)("option",{value:"7",children:"Last 7 days"}),(0,ye.jsx)("option",{value:"30",children:"Last 30 days"}),(0,ye.jsx)("option",{value:"90",children:"Last 90 days"}),(0,ye.jsx)("option",{value:"365",children:"Last year"})]})]}),(0,ye.jsx)("div",{className:"flex items-center space-x-2 md:ml-auto",children:k.map(e=>(0,ye.jsxs)("button",{onClick:()=>g(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(v===e.id?"bg-purple-600 text-white":"bg-white/10 text-gray-400 hover:text-white hover:bg-white/20"),children:[e.icon,(0,ye.jsx)("span",{children:e.label})]},e.id))})]})}),(0,ye.jsx)("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:(0,ye.jsxs)("div",{className:"lg:col-span-2 glass-dark p-6 rounded-2xl border border-white/10",children:[(0,ye.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:null===(e=k.find(e=>e.id===v))||void 0===e?void 0:e.label}),(0,ye.jsx)("div",{className:"h-80",children:m?(0,ye.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,ye.jsx)("div",{className:"loading-spinner"})}):(0,ye.jsxs)(d.u,{width:"100%",height:"100%",children:["checkins"===v&&(0,ye.jsxs)(U,{data:j,children:[(0,ye.jsx)("defs",{children:(0,ye.jsxs)("linearGradient",{id:"colorCheckIns",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,ye.jsx)("stop",{offset:"5%",stopColor:"#e50914",stopOpacity:.8}),(0,ye.jsx)("stop",{offset:"95%",stopColor:"#e50914",stopOpacity:.1})]})}),(0,ye.jsx)(Z.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,ye.jsx)(q.W,{dataKey:"date",stroke:"#9CA3AF",fontSize:12,tickFormatter:e=>new Date(e).toLocaleDateString()}),(0,ye.jsx)(H.h,{stroke:"#9CA3AF",fontSize:12}),(0,ye.jsx)(X.m,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),(0,ye.jsx)($,{type:"monotone",dataKey:"checkIns",stroke:"#e50914",fillOpacity:1,fill:"url(#colorCheckIns)",strokeWidth:2})]}),"events"===v&&(0,ye.jsxs)(Y.E,{data:N,children:[(0,ye.jsx)(Z.d,{strokeDasharray:"3 3",stroke:"#374151"}),(0,ye.jsx)(q.W,{dataKey:"name",stroke:"#9CA3AF",fontSize:12}),(0,ye.jsx)(H.h,{stroke:"#9CA3AF",fontSize:12}),(0,ye.jsx)(X.m,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}}),(0,ye.jsx)(ee.s,{}),(0,ye.jsx)(te.y,{dataKey:"checkIns",fill:"#e50914",name:"Check-ins"}),(0,ye.jsx)(te.y,{dataKey:"totalGuests",fill:"#6B7280",name:"Total Guests"})]}),"distribution"===v&&(0,ye.jsxs)(ae.r,{children:[(0,ye.jsx)(ne.F,{data:w,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return`${t} ${(100*a).toFixed(0)}%`},outerRadius:120,fill:"#8884d8",dataKey:"value",children:w.map((e,t)=>(0,ye.jsx)(re.f,{fill:A[t%A.length]},`cell-${t}`))}),(0,ye.jsx)(X.m,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px",color:"#F9FAFB"}})]})]})})]})}),(0,ye.jsxs)("div",{className:"glass-dark rounded-2xl border border-white/10 overflow-hidden",children:[(0,ye.jsxs)("div",{className:"p-6 border-b border-white/10",children:[(0,ye.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Event Performance Details"}),(0,ye.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Detailed breakdown of each event's performance"})]}),(0,ye.jsx)("div",{className:"overflow-x-auto",children:(0,ye.jsxs)("table",{className:"w-full",children:[(0,ye.jsx)("thead",{className:"bg-white/5",children:(0,ye.jsxs)("tr",{children:[(0,ye.jsx)("th",{className:"text-left py-4 px-6 text-gray-400 font-medium",children:"Event"}),(0,ye.jsx)("th",{className:"text-left py-4 px-6 text-gray-400 font-medium",children:"Date"}),(0,ye.jsx)("th",{className:"text-left py-4 px-6 text-gray-400 font-medium",children:"Total Guests"}),(0,ye.jsx)("th",{className:"text-left py-4 px-6 text-gray-400 font-medium",children:"Check-ins"}),(0,ye.jsx)("th",{className:"text-left py-4 px-6 text-gray-400 font-medium",children:"Attendance Rate"}),(0,ye.jsx)("th",{className:"text-left py-4 px-6 text-gray-400 font-medium",children:"Status"})]})}),(0,ye.jsx)("tbody",{children:m?[...Array(5)].map((e,t)=>(0,ye.jsxs)("tr",{className:"border-t border-white/10",children:[(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsx)("div",{className:"animate-pulse bg-gray-600 h-4 w-32 rounded"})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsx)("div",{className:"animate-pulse bg-gray-600 h-4 w-24 rounded"})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsx)("div",{className:"animate-pulse bg-gray-600 h-4 w-16 rounded"})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsx)("div",{className:"animate-pulse bg-gray-600 h-4 w-16 rounded"})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsx)("div",{className:"animate-pulse bg-gray-600 h-4 w-20 rounded"})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsx)("div",{className:"animate-pulse bg-gray-600 h-6 w-16 rounded"})})]},t)):0===a.length?(0,ye.jsx)("tr",{children:(0,ye.jsxs)("td",{colSpan:"6",className:"py-12 text-center",children:[(0,ye.jsx)(ce.A,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,ye.jsx)("p",{className:"text-gray-400 text-lg",children:"No events found"}),(0,ye.jsx)("p",{className:"text-gray-500 text-sm",children:"Create your first event to see analytics"})]})}):a.map(e=>{const t=e.totalGuests?Math.round((e.checkedInGuests||0)/e.totalGuests*100):0,a=new Date(e.date),n=a>new Date,r=a<new Date;return(0,ye.jsxs)("tr",{className:"border-t border-white/10 hover:bg-white/5 transition-all",children:[(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsxs)("div",{children:[(0,ye.jsx)("p",{className:"text-white font-medium",children:e.name}),(0,ye.jsx)("p",{className:"text-gray-400 text-sm truncate max-w-xs",children:e.description||"No description"})]})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsxs)("div",{children:[(0,ye.jsx)("p",{className:"text-gray-300 text-sm",children:a.toLocaleDateString()}),(0,ye.jsx)("p",{className:"text-gray-500 text-xs",children:e.time||"No time set"})]})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsx)("span",{className:"text-white font-medium",children:e.totalGuests||0})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,ye.jsx)("span",{className:"text-white font-medium",children:e.checkedInGuests||0}),(e.checkedInGuests||0)>0&&(0,ye.jsx)(oe.A,{className:"w-4 h-4 text-green-400"})]})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,ye.jsx)("div",{className:"flex-1 bg-gray-700 rounded-full h-2",children:(0,ye.jsx)("div",{className:"h-2 rounded-full transition-all duration-500 "+(t>=80?"bg-green-500":t>=60?"bg-yellow-500":t>=40?"bg-orange-500":"bg-red-500"),style:{width:`${Math.min(t,100)}%`}})}),(0,ye.jsxs)("span",{className:"text-sm font-medium "+(t>=80?"text-green-400":t>=60?"text-yellow-400":t>=40?"text-orange-400":"text-red-400"),children:[t,"%"]})]})}),(0,ye.jsx)("td",{className:"py-4 px-6",children:(0,ye.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium "+(n?"bg-blue-600/20 text-blue-400":r?"bg-gray-600/20 text-gray-400":"bg-green-600/20 text-green-400"),children:n?"Upcoming":r?"Completed":"Active"})})]},e.id)})})]})})]})]})]})]})}}}]);